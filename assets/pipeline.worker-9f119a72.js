(function(){"use strict";function _e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var X={exports:{}},Ct=function(){function e(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();function At(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Bt=function(){function e(){At(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return Ct(e,[{key:"emit",value:function(r){if(!this.__listeners[r])return this;for(var a=arguments.length,n=Array(a>1?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];var c=!0,l=!1,s=void 0;try{for(var f=this.__listeners[r][Symbol.iterator](),o;!(c=(o=f.next()).done);c=!0){var d=o.value;d.apply(void 0,n)}}catch(u){l=!0,s=u}finally{try{!c&&f.return&&f.return()}finally{if(l)throw s}}return this}},{key:"once",value:function(r,a){var n=this,i=function c(){n.off(r,c),a.apply(void 0,arguments)};return this.on(r,i)}},{key:"on",value:function(r,a){return this.__listeners[r]||(this.__listeners[r]=[]),this.__listeners[r].push(a),this}},{key:"off",value:function(r,a){return a?this.__listeners[r]=this.__listeners[r].filter(function(n){return n!==a}):this.__listeners[r]=[],this}}]),e}(),Ut=Bt,xt=function(){function e(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),Dt=function e(t,r,a){t===null&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(n===void 0){var i=Object.getPrototypeOf(t);return i===null?void 0:e(i,r,a)}else{if("value"in n)return n.value;var c=n.get;return c===void 0?void 0:c.call(a)}},Ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Ce(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else return Array.from(e)}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Rt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function kt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $t=Ut,qt=0,Mt=1,Lt=0,Be=1,Ue="main",jt=function(t){return(typeof t>"u"?"undefined":Ft(t))==="object"&&t!==null&&typeof t.then=="function"&&typeof t.catch=="function"};function zt(e){var t=kt({},Ue,e),r=self.postMessage.bind(self),a=new(function(s){Rt(f,s);function f(){return Ae(this,f),Nt(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return xt(f,[{key:"emit",value:function(d){for(var u=arguments.length,m=Array(u>1?u-1:0),h=1;h<u;h++)m[h-1]=arguments[h];return m.length==1&&m[0]instanceof Y?r({eventName:d,args:m},m[0].transferable):r({eventName:d,args:m}),this}},{key:"emitLocally",value:function(d){for(var u,m=arguments.length,h=Array(m>1?m-1:0),y=1;y<m;y++)h[y-1]=arguments[y];(u=Dt(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"emit",this)).call.apply(u,[this,d].concat(h))}},{key:"operation",value:function(d,u){return t[d]=u,this}}]),f}($t)),n=function(f,o,d){var u=function(g){g&&g instanceof Y?c(f,Be,g.payload,g.transferable):c(f,Be,g)},m=function(g){c(f,Lt,{message:g.message,stack:g.stack})};try{var h=i(f,o,d);jt(h)?h.then(u).catch(m):u(h)}catch(y){m(y)}},i=function(f,o,d){var u=t[d||Ue];if(!u)throw new Error("Not found handler for this request");return u(o,l.bind(null,f))},c=function(f,o,d){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];r([qt,f,o,d],u)},l=function(f,o,d){if(!o)throw new Error("eventName is required");if(typeof o!="string")throw new Error("eventName should be string");r([Mt,f,o,d])};return self.addEventListener("message",function(s){var f=s.data;Array.isArray(f)?n.apply(void 0,Ce(f)):f&&f.eventName&&a.emitLocally.apply(a,[f.eventName].concat(Ce(f.args)))}),a}var Y=function e(t,r){Ae(this,e),this.payload=t,this.transferable=r};X.exports=zt,X.exports.TransferableResponse=Y;var Jt=X.exports,xe=_e(Jt),Z={exports:{}},De=function(t,r){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(r,n)}},Gt=De,x=Object.prototype.toString;function Q(e){return x.call(e)==="[object Array]"}function ee(e){return typeof e>"u"}function Ht(e){return e!==null&&!ee(e)&&e.constructor!==null&&!ee(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Vt(e){return x.call(e)==="[object ArrayBuffer]"}function Wt(e){return typeof FormData<"u"&&e instanceof FormData}function Kt(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function Xt(e){return typeof e=="string"}function Yt(e){return typeof e=="number"}function Fe(e){return e!==null&&typeof e=="object"}function z(e){if(x.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Zt(e){return x.call(e)==="[object Date]"}function Qt(e){return x.call(e)==="[object File]"}function er(e){return x.call(e)==="[object Blob]"}function Ne(e){return x.call(e)==="[object Function]"}function tr(e){return Fe(e)&&Ne(e.pipe)}function rr(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}function nr(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function ar(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function te(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),Q(e))for(var r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}function re(){var e={};function t(n,i){z(e[i])&&z(n)?e[i]=re(e[i],n):z(n)?e[i]=re({},n):Q(n)?e[i]=n.slice():e[i]=n}for(var r=0,a=arguments.length;r<a;r++)te(arguments[r],t);return e}function sr(e,t,r){return te(t,function(n,i){r&&typeof n=="function"?e[i]=Gt(n,r):e[i]=n}),e}function ir(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var O={isArray:Q,isArrayBuffer:Vt,isBuffer:Ht,isFormData:Wt,isArrayBufferView:Kt,isString:Xt,isNumber:Yt,isObject:Fe,isPlainObject:z,isUndefined:ee,isDate:Zt,isFile:Qt,isBlob:er,isFunction:Ne,isStream:tr,isURLSearchParams:rr,isStandardBrowserEnv:ar,forEach:te,merge:re,extend:sr,trim:nr,stripBOM:ir},N=O;function Re(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ke=function(t,r,a){if(!r)return t;var n;if(a)n=a(r);else if(N.isURLSearchParams(r))n=r.toString();else{var i=[];N.forEach(r,function(s,f){s===null||typeof s>"u"||(N.isArray(s)?f=f+"[]":s=[s],N.forEach(s,function(d){N.isDate(d)?d=d.toISOString():N.isObject(d)&&(d=JSON.stringify(d)),i.push(Re(f)+"="+Re(d))}))}),n=i.join("&")}if(n){var c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+n}return t},or=O;function J(){this.handlers=[]}J.prototype.use=function(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1},J.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},J.prototype.forEach=function(t){or.forEach(this.handlers,function(a){a!==null&&t(a)})};var fr=J,ur=O,lr=function(t,r){ur.forEach(t,function(n,i){i!==r&&i.toUpperCase()===r.toUpperCase()&&(t[r]=n,delete t[i])})},$e=function(t,r,a,n,i){return t.config=r,a&&(t.code=a),t.request=n,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},ne,qe;function Me(){if(qe)return ne;qe=1;var e=$e;return ne=function(r,a,n,i,c){var l=new Error(r);return e(l,a,n,i,c)},ne}var ae,Le;function cr(){if(Le)return ae;Le=1;var e=Me();return ae=function(r,a,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?r(n):a(e("Request failed with status code "+n.status,n.config,null,n.request,n))},ae}var se,je;function dr(){if(je)return se;je=1;var e=O;return se=e.isStandardBrowserEnv()?function(){return{write:function(a,n,i,c,l,s){var f=[];f.push(a+"="+encodeURIComponent(n)),e.isNumber(i)&&f.push("expires="+new Date(i).toGMTString()),e.isString(c)&&f.push("path="+c),e.isString(l)&&f.push("domain="+l),s===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(a){var n=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(a){this.write(a,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),se}var ie,ze;function mr(){return ze||(ze=1,ie=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}),ie}var oe,Je;function hr(){return Je||(Je=1,oe=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}),oe}var fe,Ge;function pr(){if(Ge)return fe;Ge=1;var e=mr(),t=hr();return fe=function(a,n){return a&&!e(n)?t(a,n):n},fe}var ue,He;function yr(){if(He)return ue;He=1;var e=O,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return ue=function(a){var n={},i,c,l;return a&&e.forEach(a.split(`
`),function(f){if(l=f.indexOf(":"),i=e.trim(f.substr(0,l)).toLowerCase(),c=e.trim(f.substr(l+1)),i){if(n[i]&&t.indexOf(i)>=0)return;i==="set-cookie"?n[i]=(n[i]?n[i]:[]).concat([c]):n[i]=n[i]?n[i]+", "+c:c}}),n},ue}var le,Ve;function Ir(){if(Ve)return le;Ve=1;var e=O;return le=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a"),n;function i(c){var l=c;return r&&(a.setAttribute("href",l),l=a.href),a.setAttribute("href",l),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:a.pathname.charAt(0)==="/"?a.pathname:"/"+a.pathname}}return n=i(window.location.href),function(l){var s=e.isString(l)?i(l):l;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}(),le}var ce,We;function G(){if(We)return ce;We=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,ce=e,ce}var de,Ke;function Xe(){if(Ke)return de;Ke=1;var e=O,t=cr(),r=dr(),a=ke,n=pr(),i=yr(),c=Ir(),l=Me(),s=H(),f=G();return de=function(d){return new Promise(function(m,h){var y=d.data,g=d.headers,D=d.responseType,U;function Tt(){d.cancelToken&&d.cancelToken.unsubscribe(U),d.signal&&d.signal.removeEventListener("abort",U)}e.isFormData(y)&&delete g["Content-Type"];var p=new XMLHttpRequest;if(d.auth){var Zr=d.auth.username||"",Qr=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";g.Authorization="Basic "+btoa(Zr+":"+Qr)}var Pt=n(d.baseURL,d.url);p.open(d.method.toUpperCase(),a(Pt,d.params,d.paramsSerializer),!0),p.timeout=d.timeout;function Et(){if(p){var _="getAllResponseHeaders"in p?i(p.getAllResponseHeaders()):null,k=!D||D==="text"||D==="json"?p.responseText:p.response,F={data:k,status:p.status,statusText:p.statusText,headers:_,config:d,request:p};t(function(Ee){m(Ee),Tt()},function(Ee){h(Ee),Tt()},F),p=null}}if("onloadend"in p?p.onloadend=Et:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(Et)},p.onabort=function(){p&&(h(l("Request aborted",d,"ECONNABORTED",p)),p=null)},p.onerror=function(){h(l("Network Error",d,null,p)),p=null},p.ontimeout=function(){var k=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",F=d.transitional||s.transitional;d.timeoutErrorMessage&&(k=d.timeoutErrorMessage),h(l(k,d,F.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},e.isStandardBrowserEnv()){var _t=(d.withCredentials||c(Pt))&&d.xsrfCookieName?r.read(d.xsrfCookieName):void 0;_t&&(g[d.xsrfHeaderName]=_t)}"setRequestHeader"in p&&e.forEach(g,function(k,F){typeof y>"u"&&F.toLowerCase()==="content-type"?delete g[F]:p.setRequestHeader(F,k)}),e.isUndefined(d.withCredentials)||(p.withCredentials=!!d.withCredentials),D&&D!=="json"&&(p.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&p.addEventListener("progress",d.onDownloadProgress),typeof d.onUploadProgress=="function"&&p.upload&&p.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(U=function(_){p&&(h(!_||_&&_.type?new f("canceled"):_),p.abort(),p=null)},d.cancelToken&&d.cancelToken.subscribe(U),d.signal&&(d.signal.aborted?U():d.signal.addEventListener("abort",U))),y||(y=null),p.send(y)})},de}var me,Ye;function H(){if(Ye)return me;Ye=1;var e=O,t=lr,r=$e,a={"Content-Type":"application/x-www-form-urlencoded"};function n(s,f){!e.isUndefined(s)&&e.isUndefined(s["Content-Type"])&&(s["Content-Type"]=f)}function i(){var s;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(s=Xe()),s}function c(s,f,o){if(e.isString(s))try{return(f||JSON.parse)(s),e.trim(s)}catch(d){if(d.name!=="SyntaxError")throw d}return(o||JSON.stringify)(s)}var l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:i(),transformRequest:[function(f,o){return t(o,"Accept"),t(o,"Content-Type"),e.isFormData(f)||e.isArrayBuffer(f)||e.isBuffer(f)||e.isStream(f)||e.isFile(f)||e.isBlob(f)?f:e.isArrayBufferView(f)?f.buffer:e.isURLSearchParams(f)?(n(o,"application/x-www-form-urlencoded;charset=utf-8"),f.toString()):e.isObject(f)||o&&o["Content-Type"]==="application/json"?(n(o,"application/json"),c(f)):f}],transformResponse:[function(f){var o=this.transitional||l.transitional,d=o&&o.silentJSONParsing,u=o&&o.forcedJSONParsing,m=!d&&this.responseType==="json";if(m||u&&e.isString(f)&&f.length)try{return JSON.parse(f)}catch(h){if(m)throw h.name==="SyntaxError"?r(h,this,"E_JSON_PARSE"):h}return f}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(f){return f>=200&&f<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return e.forEach(["delete","get","head"],function(f){l.headers[f]={}}),e.forEach(["post","put","patch"],function(f){l.headers[f]=e.merge(a)}),me=l,me}var br=O,gr=H(),vr=function(t,r,a){var n=this||gr;return br.forEach(a,function(c){t=c.call(n,t,r)}),t},he,Ze;function Qe(){return Ze||(Ze=1,he=function(t){return!!(t&&t.__CANCEL__)}),he}var et=O,pe=vr,Or=Qe(),wr=H(),Sr=G();function ye(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Sr("canceled")}var Tr=function(t){ye(t),t.headers=t.headers||{},t.data=pe.call(t,t.data,t.headers,t.transformRequest),t.headers=et.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),et.forEach(["delete","get","head","post","put","patch","common"],function(n){delete t.headers[n]});var r=t.adapter||wr.adapter;return r(t).then(function(n){return ye(t),n.data=pe.call(t,n.data,n.headers,t.transformResponse),n},function(n){return Or(n)||(ye(t),n&&n.response&&(n.response.data=pe.call(t,n.response.data,n.response.headers,t.transformResponse))),Promise.reject(n)})},w=O,tt=function(t,r){r=r||{};var a={};function n(o,d){return w.isPlainObject(o)&&w.isPlainObject(d)?w.merge(o,d):w.isPlainObject(d)?w.merge({},d):w.isArray(d)?d.slice():d}function i(o){if(w.isUndefined(r[o])){if(!w.isUndefined(t[o]))return n(void 0,t[o])}else return n(t[o],r[o])}function c(o){if(!w.isUndefined(r[o]))return n(void 0,r[o])}function l(o){if(w.isUndefined(r[o])){if(!w.isUndefined(t[o]))return n(void 0,t[o])}else return n(void 0,r[o])}function s(o){if(o in r)return n(t[o],r[o]);if(o in t)return n(void 0,t[o])}var f={url:c,method:c,data:c,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:s};return w.forEach(Object.keys(t).concat(Object.keys(r)),function(d){var u=f[d]||i,m=u(d);w.isUndefined(m)&&u!==s||(a[d]=m)}),a},Ie,rt;function nt(){return rt||(rt=1,Ie={version:"0.23.0"}),Ie}var Pr=nt().version,be={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){be[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});var at={};be.transitional=function(t,r,a){function n(i,c){return"[Axios v"+Pr+"] Transitional option '"+i+"'"+c+(a?". "+a:"")}return function(i,c,l){if(t===!1)throw new Error(n(c," has been removed"+(r?" in "+r:"")));return r&&!at[c]&&(at[c]=!0,console.warn(n(c," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,c,l):!0}};function Er(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var a=Object.keys(e),n=a.length;n-- >0;){var i=a[n],c=t[i];if(c){var l=e[i],s=l===void 0||c(l,i,e);if(s!==!0)throw new TypeError("option "+i+" must be "+s);continue}if(r!==!0)throw Error("Unknown option "+i)}}var _r={assertOptions:Er,validators:be},st=O,Cr=ke,it=fr,ot=Tr,V=tt,ft=_r,R=ft.validators;function $(e){this.defaults=e,this.interceptors={request:new it,response:new it}}$.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=V(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&ft.assertOptions(r,{silentJSONParsing:R.transitional(R.boolean),forcedJSONParsing:R.transitional(R.boolean),clarifyTimeoutError:R.transitional(R.boolean)},!1);var a=[],n=!0;this.interceptors.request.forEach(function(u){typeof u.runWhen=="function"&&u.runWhen(t)===!1||(n=n&&u.synchronous,a.unshift(u.fulfilled,u.rejected))});var i=[];this.interceptors.response.forEach(function(u){i.push(u.fulfilled,u.rejected)});var c;if(!n){var l=[ot,void 0];for(Array.prototype.unshift.apply(l,a),l=l.concat(i),c=Promise.resolve(t);l.length;)c=c.then(l.shift(),l.shift());return c}for(var s=t;a.length;){var f=a.shift(),o=a.shift();try{s=f(s)}catch(d){o(d);break}}try{c=ot(s)}catch(d){return Promise.reject(d)}for(;i.length;)c=c.then(i.shift(),i.shift());return c},$.prototype.getUri=function(t){return t=V(this.defaults,t),Cr(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},st.forEach(["delete","get","head","options"],function(t){$.prototype[t]=function(r,a){return this.request(V(a||{},{method:t,url:r,data:(a||{}).data}))}}),st.forEach(["post","put","patch"],function(t){$.prototype[t]=function(r,a,n){return this.request(V(n||{},{method:t,url:r,data:a}))}});var Ar=$,ge,ut;function Br(){if(ut)return ge;ut=1;var e=G();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var a;this.promise=new Promise(function(c){a=c});var n=this;this.promise.then(function(i){if(n._listeners){var c,l=n._listeners.length;for(c=0;c<l;c++)n._listeners[c](i);n._listeners=null}}),this.promise.then=function(i){var c,l=new Promise(function(s){n.subscribe(s),c=s}).then(i);return l.cancel=function(){n.unsubscribe(c)},l},r(function(c){n.reason||(n.reason=new e(c),a(n.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]},t.prototype.unsubscribe=function(a){if(this._listeners){var n=this._listeners.indexOf(a);n!==-1&&this._listeners.splice(n,1)}},t.source=function(){var a,n=new t(function(c){a=c});return{token:n,cancel:a}},ge=t,ge}var ve,lt;function Ur(){return lt||(lt=1,ve=function(t){return function(a){return t.apply(null,a)}}),ve}var Oe,ct;function xr(){return ct||(ct=1,Oe=function(t){return typeof t=="object"&&t.isAxiosError===!0}),Oe}var dt=O,Dr=De,W=Ar,Fr=tt,Nr=H();function mt(e){var t=new W(e),r=Dr(W.prototype.request,t);return dt.extend(r,W.prototype,t),dt.extend(r,t),r.create=function(n){return mt(Fr(e,n))},r}var C=mt(Nr);C.Axios=W,C.Cancel=G(),C.CancelToken=Br(),C.isCancel=Qe(),C.VERSION=nt().version,C.all=function(t){return Promise.all(t)},C.spread=Ur(),C.isAxiosError=xr(),Z.exports=C,Z.exports.default=C;var Rr=Z.exports,kr=Rr,$r=_e(kr);function qr(e){const r=e.replace(/-([a-z])/g,a=>a[1].toUpperCase()).replace(/([^0-9a-z])/ig,"");return r===""&&console.error("Resulting string is empty."),r}async function Mr(e,t){let r=null;typeof e!="string"?r=e.href:e.startsWith("http")?r=e:r=`${t}/${e}`,r.endsWith(".js")&&(r=r.substring(0,r.length-3)),r.endsWith(".wasm")&&(r=r.substring(0,r.length-5));const a=`${r}.wasm`,i=(await $r.get(a,{responseType:"arraybuffer"})).data,c=`${r}.umd.js`;importScripts(c);const l=qr(r.replace(/.*\//,"")),s=self[l];return s({wasmBinary:i})}const K=new Map;async function P(e,t){let r=e,a=e,n=null;return typeof e!="string"&&(r=new URL(e.href),a=r.href),K.has(a)||K.set(a,await Mr(r,t)),n=K.get(a),n}var ht=new Map([["image/jpeg","JPEGImageIO"],["image/png","PNGImageIO"],["image/tiff","TIFFImageIO"],["image/x-ms-bmp","BMPImageIO"],["image/x-bmp","BMPImageIO"],["image/bmp","BMPImageIO"],["application/dicom","GDCMImageIO"]]),pt=new Map([["bmp","BMPImageIO"],["BMP","BMPImageIO"],["dcm","GDCMImageIO"],["DCM","GDCMImageIO"],["gipl","GiplImageIO"],["gipl.gz","GiplImageIO"],["hdf5","HDF5ImageIO"],["jpg","JPEGImageIO"],["JPG","JPEGImageIO"],["jpeg","JPEGImageIO"],["JPEG","JPEGImageIO"],["iwi","WasmImageIO"],["iwi.cbor","WasmImageIO"],["iwi.cbor.zstd","WasmZstdImageIO"],["lsm","LSMImageIO"],["mnc","MINCImageIO"],["MNC","MINCImageIO"],["mnc.gz","MINCImageIO"],["MNC.GZ","MINCImageIO"],["mnc2","MINCImageIO"],["MNC2","MINCImageIO"],["mgh","MGHImageIO"],["mgz","MGHImageIO"],["mgh.gz","MGHImageIO"],["mha","MetaImageIO"],["mhd","MetaImageIO"],["mrc","MRCImageIO"],["nia","NiftiImageIO"],["nii","NiftiImageIO"],["nii.gz","NiftiImageIO"],["hdr","NiftiImageIO"],["nrrd","NrrdImageIO"],["NRRD","NrrdImageIO"],["nhdr","NrrdImageIO"],["NHDR","NrrdImageIO"],["png","PNGImageIO"],["PNG","PNGImageIO"],["pic","BioRadImageIO"],["PIC","BioRadImageIO"],["tif","TIFFImageIO"],["TIF","TIFFImageIO"],["tiff","TIFFImageIO"],["TIFF","TIFFImageIO"],["vtk","VTKImageIO"],["VTK","VTKImageIO"],["isq","ScancoImageIO"],["ISQ","ScancoImageIO"],["fdf","FDFImageIO"],["FDF","FDFImageIO"]]);function yt(e){let t=e.slice((e.lastIndexOf(".")-1>>>0)+2);if(t.toLowerCase()==="gz"){const r=e.slice(0,-3).lastIndexOf(".");t=e.slice((r-1>>>0)+2)}else if(t.toLowerCase()==="cbor"){const r=e.slice(0,-5).lastIndexOf(".");t=e.slice((r-1>>>0)+2)}else if(t.toLowerCase()==="zstd"){const r=e.slice(0,-10).lastIndexOf(".");t=e.slice((r-1>>>0)+2)}else if(t.toLowerCase()==="zip"){const r=e.slice(0,-4).lastIndexOf(".");t=e.slice((r-1>>>0)+2)}return t}var we=["PNGImageIO","MetaImageIO","TIFFImageIO","NiftiImageIO","JPEGImageIO","NrrdImageIO","VTKImageIO","BMPImageIO","HDF5ImageIO","MINCImageIO","MRCImageIO","LSMImageIO","MGHImageIO","BioRadImageIO","GiplImageIO","GEAdwImageIO","GE4ImageIO","GE5ImageIO","GDCMImageIO","ScancoImageIO","FDFImageIO","WasmImageIO","WasmZstdImageIO"],I={TextFile:"InterfaceTextFile",BinaryFile:"InterfaceBinaryFile",TextStream:"InterfaceTextStream",BinaryStream:"InterfaceBinaryStream",Image:"InterfaceImage",Mesh:"InterfaceMesh",PolyData:"InterfacePolyData",JsonObject:"InterfaceJsonObject"},E={Text:"Text",Binary:"Binary",Image:"Image",Mesh:"Mesh"},T={Int8:"int8",UInt8:"uint8",Int16:"int16",UInt16:"uint16",Int32:"int32",UInt32:"uint32",Int64:"int64",UInt64:"uint64",SizeValueType:"uint64",IdentifierType:"uint64",IndexValueType:"int64",OffsetValueType:"int64"},q={Float32:"float32",Float64:"float64",SpacePrecisionType:"float64"};function b(e,t){let r=null;switch(e){case T.UInt8:{r=new Uint8Array(t);break}case T.Int8:{r=new Int8Array(t);break}case T.UInt16:{r=new Uint16Array(t);break}case T.Int16:{r=new Int16Array(t);break}case T.UInt32:{r=new Uint32Array(t);break}case T.Int32:{r=new Int32Array(t);break}case T.UInt64:{typeof globalThis.BigUint64Array=="function"?r=new BigUint64Array(t):r=new Uint8Array(t);break}case T.Int64:{typeof globalThis.BigInt64Array=="function"?r=new BigInt64Array(t):r=new Uint8Array(t);break}case q.Float32:{r=new Float32Array(t);break}case q.Float64:{r=new Float64Array(t);break}case"null":{r=null;break}case null:{r=null;break}default:throw new Error("Type is not supported as a TypedArray")}return r}const It=typeof globalThis.SharedArrayBuffer=="function",Lr=new TextEncoder,bt=new TextDecoder("utf-8");function B(e,t){const r={flags:"r",encoding:"binary"},a=e.fs_open(t,r.flags),i=e.fs_stat(t).size;let c=null;It?c=new SharedArrayBuffer(i):c=new ArrayBuffer(i);const l=new Uint8Array(c);return e.fs_read(a,l,0,i,0),e.fs_close(a),l}function gt(e,t,r){let a=null;It?a=new SharedArrayBuffer(r):a=new ArrayBuffer(r);const n=new Uint8Array(a),i=new Uint8Array(e.HEAPU8.buffer,t,r);return n.set(i),n}function v(e,t,r,a){let n=0;return t!==null&&(n=e.ccall("itk_wasm_input_array_alloc","number",["number","number","number","number"],[0,r,a,t.buffer.byteLength]),e.HEAPU8.set(new Uint8Array(t.buffer),n)),n}function M(e,t,r){const a=JSON.stringify(t),n=e.ccall("itk_wasm_input_json_alloc","number",["number","number","number"],[0,r,a.length]);e.writeAsciiToMemory(a,n,!1)}function S(e,t,r,a){const n=e.ccall("itk_wasm_output_array_address","number",["number","number","number"],[0,t,r]),i=e.ccall("itk_wasm_output_array_size","number",["number","number","number"],[0,t,r]),c=gt(e,n,i);return b(a,c.buffer)}function Se(e,t){const r=e.ccall("itk_wasm_output_json_address","number",["number","number"],[0,t]),a=e.AsciiToString(r);return JSON.parse(a)}function Te(e,t,r,a){a!=null&&a.length>0&&a.forEach(function(s,f){switch(s.type){case I.TextStream:{const o=Lr.encode(s.data.data),d=v(e,o,f,0),u={size:o.buffer.byteLength,data:`data:application/vnd.itk.address,0:${d}`};M(e,u,f);break}case I.BinaryStream:{const o=s.data.data,d=v(e,o,f,0),u={size:o.buffer.byteLength,data:`data:application/vnd.itk.address,0:${d}`};M(e,u,f);break}case I.TextFile:{e.fs_writeFile(s.data.path,s.data.data);break}case I.BinaryFile:{e.fs_writeFile(s.data.path,s.data.data);break}case I.Image:{const o=s.data,d=v(e,o.data,f,0),u=v(e,o.direction,f,1),m={imageType:o.imageType,name:o.name,origin:o.origin,spacing:o.spacing,direction:`data:application/vnd.itk.address,0:${u}`,size:o.size,data:`data:application/vnd.itk.address,0:${d}`,metadata:JSON.stringify(Array.from(o.metadata.entries()))};M(e,m,f);break}case I.Mesh:{const o=s.data,d=v(e,o.points,f,0),u=v(e,o.cells,f,1),m=v(e,o.pointData,f,2),h=v(e,o.cellData,f,3),y={meshType:o.meshType,name:o.name,numberOfPoints:o.numberOfPoints,points:`data:application/vnd.itk.address,0:${d}`,numberOfCells:o.numberOfCells,cells:`data:application/vnd.itk.address,0:${u}`,cellBufferSize:o.cellBufferSize,numberOfPointPixels:o.numberOfPointPixels,pointData:`data:application/vnd.itk.address,0:${m}`,numberOfCellPixels:o.numberOfCellPixels,cellData:`data:application/vnd.itk.address,0:${h}`};M(e,y,f);break}case I.PolyData:{const o=s.data,d=v(e,o.points,f,0),u=v(e,o.vertices,f,1),m=v(e,o.lines,f,2),h=v(e,o.polygons,f,3),y=v(e,o.triangleStrips,f,4),g=v(e,o.pointData,f,5),D=v(e,o.pointData,f,6),U={polyDataType:o.polyDataType,name:o.name,numberOfPoints:o.numberOfPoints,points:`data:application/vnd.itk.address,0:${d}`,verticesBufferSize:o.verticesBufferSize,vertices:`data:application/vnd.itk.address,0:${u}`,linesBufferSize:o.linesBufferSize,lines:`data:application/vnd.itk.address,0:${m}`,polygonsBufferSize:o.polygonsBufferSize,polygons:`data:application/vnd.itk.address,0:${h}`,triangleStripsBufferSize:o.triangleStripsBufferSize,triangleStrips:`data:application/vnd.itk.address,0:${y}`,numberOfPointPixels:o.numberOfPointPixels,pointData:`data:application/vnd.itk.address,0:${g}`,numberOfCellPixels:o.numberOfCellPixels,cellData:`data:application/vnd.itk.address,0:${D}`};M(e,U,f);break}case E.Text:{e.fs_writeFile(s.path,s.data);break}case E.Binary:{e.fs_writeFile(s.path,s.data);break}case E.Image:{const o=s.data,d={imageType:o.imageType,name:o.name,origin:o.origin,spacing:o.spacing,direction:"data:application/vnd.itk.path,data/direction.raw",size:o.size,data:"data:application/vnd.itk.path,data/data.raw"};if(e.fs_mkdirs(`${s.path}/data`),e.fs_writeFile(`${s.path}/index.json`,JSON.stringify(d)),o.data===null)throw Error("image.data is null");e.fs_writeFile(`${s.path}/data/data.raw`,new Uint8Array(o.data.buffer)),e.fs_writeFile(`${s.path}/data/direction.raw`,new Uint8Array(o.direction.buffer));break}case E.Mesh:{const o=s.data,d={meshType:o.meshType,name:o.name,numberOfPoints:o.numberOfPoints,points:"data:application/vnd.itk.path,data/points.raw",numberOfPointPixels:o.numberOfPointPixels,pointData:"data:application/vnd.itk.path,data/pointData.raw",numberOfCells:o.numberOfCells,cells:"data:application/vnd.itk.path,data/cells.raw",numberOfCellPixels:o.numberOfCellPixels,cellData:"data:application/vnd.itk.path,data/cellData.raw",cellBufferSize:o.cellBufferSize};if(e.fs_mkdirs(`${s.path}/data`),e.fs_writeFile(`${s.path}/index.json`,JSON.stringify(d)),d.numberOfPoints>0){if(o.points===null)throw Error("mesh.points is null");e.fs_writeFile(`${s.path}/data/points.raw`,new Uint8Array(o.points.buffer))}if(d.numberOfPointPixels>0){if(o.pointData===null)throw Error("mesh.pointData is null");e.fs_writeFile(`${s.path}/data/pointData.raw`,new Uint8Array(o.pointData.buffer))}if(d.numberOfCells>0){if(o.cells===null)throw Error("mesh.cells is null");e.fs_writeFile(`${s.path}/data/cells.raw`,new Uint8Array(o.cells.buffer))}if(d.numberOfCellPixels>0){if(o.cellData===null)throw Error("mesh.cellData is null");e.fs_writeFile(`${s.path}/data/cellData.raw`,new Uint8Array(o.cellData.buffer))}break}default:throw Error("Unsupported input InterfaceType")}}),e.resetModuleStdout(),e.resetModuleStderr();let n=0;try{n=e.callMain(t.slice())}catch(s){throw typeof s=="number"&&(console.log("Exception while running pipeline:"),console.log("stdout:",e.getModuleStdout()),console.error("stderr:",e.getModuleStderr()),typeof e.getExceptionMessage<"u"?console.error("exception:",e.getExceptionMessage(s)):console.error("Build module in Debug mode for exception message information.")),s}const i=e.getModuleStdout(),c=e.getModuleStderr(),l=[];return r!=null&&r.length>0&&n===0&&r.forEach(function(s,f){let o=null;switch(s.type){case I.TextStream:{const u=e.ccall("itk_wasm_output_array_address","number",["number","number","number"],[0,f,0]),m=e.ccall("itk_wasm_output_array_size","number",["number","number","number"],[0,f,0]),h=new Uint8Array(e.HEAPU8.buffer,u,m);o={data:bt.decode(h)};break}case I.JsonObject:{const u=e.ccall("itk_wasm_output_array_address","number",["number","number","number"],[0,f,0]),m=e.ccall("itk_wasm_output_array_size","number",["number","number","number"],[0,f,0]),h=new Uint8Array(e.HEAPU8.buffer,u,m);o={data:JSON.parse(bt.decode(h))};break}case I.BinaryStream:{const u=e.ccall("itk_wasm_output_array_address","number",["number","number","number"],[0,f,0]),m=e.ccall("itk_wasm_output_array_size","number",["number","number","number"],[0,f,0]);o={data:gt(e,u,m)};break}case I.TextFile:{o={path:s.data.path,data:e.fs_readFile(s.data.path,{encoding:"utf8"})};break}case I.BinaryFile:{o={path:s.data.path,data:B(e,s.data.path)};break}case I.Image:{const u=Se(e,f);u.data=S(e,f,0,u.imageType.componentType),u.direction=S(e,f,1,q.Float64),u.metadata=new Map(u.metadata),o=u;break}case I.Mesh:{const u=Se(e,f);u.numberOfPoints>0?u.points=S(e,f,0,u.meshType.pointComponentType):u.points=b(u.meshType.pointComponentType,new ArrayBuffer(0)),u.numberOfCells>0?u.cells=S(e,f,1,u.meshType.cellComponentType):u.cells=b(u.meshType.cellComponentType,new ArrayBuffer(0)),u.numberOfPointPixels>0?u.pointData=S(e,f,2,u.meshType.pointPixelComponentType):u.pointData=b(u.meshType.pointPixelComponentType,new ArrayBuffer(0)),u.numberOfCellPixels>0?u.cellData=S(e,f,3,u.meshType.cellPixelComponentType):u.cellData=b(u.meshType.cellPixelComponentType,new ArrayBuffer(0)),o=u;break}case I.PolyData:{const u=Se(e,f);u.numberOfPoints>0?u.points=S(e,f,0,q.Float32):u.points=new Float32Array,u.verticesBufferSize>0?u.vertices=S(e,f,1,T.UInt32):u.vertices=new Uint32Array,u.linesBufferSize>0?u.lines=S(e,f,2,T.UInt32):u.lines=new Uint32Array,u.polygonsBufferSize>0?u.polygons=S(e,f,3,T.UInt32):u.polygons=new Uint32Array,u.triangleStripsBufferSize>0?u.triangleStrips=S(e,f,4,T.UInt32):u.triangleStrips=new Uint32Array,u.numberOfPointPixels>0?u.pointData=S(e,f,5,u.polyDataType.pointPixelComponentType):u.pointData=b(u.polyDataType.pointPixelComponentType,new ArrayBuffer(0)),u.numberOfCellPixels>0?u.cellData=S(e,f,6,u.polyDataType.cellPixelComponentType):u.cellData=b(u.polyDataType.cellPixelComponentType,new ArrayBuffer(0)),o=u;break}case E.Text:{if(typeof s.path>"u")throw new Error("output.path not defined");o=e.fs_readFile(s.path,{encoding:"utf8"});break}case E.Binary:{if(typeof s.path>"u")throw new Error("output.path not defined");o=B(e,s.path);break}case E.Image:{if(typeof s.path>"u")throw new Error("output.path not defined");const u=e.fs_readFile(`${s.path}/index.json`,{encoding:"utf8"}),m=JSON.parse(u),h=B(e,`${s.path}/data/data.raw`);m.data=b(m.imageType.componentType,h.buffer);const y=B(e,`${s.path}/data/direction.raw`);m.direction=b(q.Float64,y.buffer),o=m;break}case E.Mesh:{if(typeof s.path>"u")throw new Error("output.path not defined");const u=e.fs_readFile(`${s.path}/index.json`,{encoding:"utf8"}),m=JSON.parse(u);if(m.numberOfPoints>0){const h=B(e,`${s.path}/data/points.raw`);m.points=b(m.meshType.pointComponentType,h.buffer)}else m.points=b(m.meshType.pointComponentType,new ArrayBuffer(0));if(m.numberOfPointPixels>0){const h=B(e,`${s.path}/data/pointData.raw`);m.pointData=b(m.meshType.pointPixelComponentType,h.buffer)}else m.pointData=b(m.meshType.pointPixelComponentType,new ArrayBuffer(0));if(m.numberOfCells>0){const h=B(e,`${s.path}/data/cells.raw`);m.cells=b(m.meshType.cellComponentType,h.buffer)}else m.cells=b(m.meshType.cellComponentType,new ArrayBuffer(0));if(m.numberOfCellPixels>0){const h=B(e,`${s.path}/data/cellData.raw`);m.cellData=b(m.meshType.cellPixelComponentType,h.buffer)}else m.cellData=b(m.meshType.cellPixelComponentType,new ArrayBuffer(0));o=m;break}default:throw Error("Unsupported output InterfaceType")}const d={type:s.type,data:o};l.push(d)}),{returnValue:n,stdout:i,stderr:c,outputs:l}}var L=function(e){return this instanceof L?(this.v=e,this):new L(e)},jr=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(e,t||[]),n,i=[];return n={},c("next"),c("throw"),c("return"),n[Symbol.asyncIterator]=function(){return this},n;function c(u){a[u]&&(n[u]=function(m){return new Promise(function(h,y){i.push([u,m,h,y])>1||l(u,m)})})}function l(u,m){try{s(a[u](m))}catch(h){d(i[0][3],h)}}function s(u){u.value instanceof L?Promise.resolve(u.value.v).then(f,o):d(i[0][2],u)}function f(u){l("next",u)}function o(u){l("throw",u)}function d(u,m){u(m),i.shift(),i.length&&l(i[0][0],i[0][1])}},zr=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(i){r[i]=e[i]&&function(c){return new Promise(function(l,s){c=e[i](c),n(l,s,c.done,c.value)})}}function n(i,c,l,s){Promise.resolve(s).then(function(f){i({value:f,done:l})},c)}};function Jr(e){return jr(this,arguments,function*(){for(let r=0;r<we.length;r++){const a=we[r]+"-read-image",n=yield L(P(a,e.config.imageIOUrl));yield yield L(n)}})}async function vt(e,t){var r,a;if(e.mimeType&&ht.has(e.mimeType)){const l=ht.get(e.mimeType)+t;return await P(l,e.config.imageIOUrl)}const n=yt(e.fileName);if(pt.has(n)){const l=pt.get(n)+t;return await P(l,e.config.imageIOUrl)}for(let l=0;l<we.length;++l){let s=0;try{for(var i=(r=void 0,zr(Jr(e))),c;c=await i.next(),!c.done;){const f=c.value;try{const{returnValue:o,outputs:d}=await Te(f,e.args,e.outputs,e.inputs);if(o===0)return f}catch{}s++}}catch(f){r={error:f}}finally{try{c&&!c.done&&(a=i.return)&&await a.call(i)}finally{if(r)throw r.error}}}throw Error(`Could not find IO for: ${e.fileName}`)}var Ot=new Map([]),wt=new Map([["vtk","VTKPolyDataMeshIO"],["VTK","VTKPolyDataMeshIO"],["byu","BYUMeshIO"],["BYU","BYUMeshIO"],["fsa","FreeSurferAsciiMeshIO"],["FSA","FreeSurferAsciiMeshIO"],["fsb","FreeSurferBinaryMeshIO"],["FSB","FreeSurferBinaryMeshIO"],["obj","OBJMeshIO"],["OBJ","OBJMeshIO"],["off","OFFMeshIO"],["OFF","OFFMeshIO"],["stl","STLMeshIO"],["STL","STLMeshIO"],["swc","SWCMeshIO"],["SWC","SWCMeshIO"],["iwm","WasmMeshIO"],["iwm.cbor","WasmMeshIO"],["iwm.cbor.zstd","WasmZstdMeshIO"]]),Pe=["BYUMeshIO","FreeSurferAsciiMeshIO","FreeSurferBinaryMeshIO","OBJMeshIO","OFFMeshIO","STLMeshIO","SWCMeshIO","VTKPolyDataMeshIO","WasmMeshIO","WasmZstdMeshIO"],j=function(e){return this instanceof j?(this.v=e,this):new j(e)},Gr=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(e,t||[]),n,i=[];return n={},c("next"),c("throw"),c("return"),n[Symbol.asyncIterator]=function(){return this},n;function c(u){a[u]&&(n[u]=function(m){return new Promise(function(h,y){i.push([u,m,h,y])>1||l(u,m)})})}function l(u,m){try{s(a[u](m))}catch(h){d(i[0][3],h)}}function s(u){u.value instanceof j?Promise.resolve(u.value.v).then(f,o):d(i[0][2],u)}function f(u){l("next",u)}function o(u){l("throw",u)}function d(u,m){u(m),i.shift(),i.length&&l(i[0][0],i[0][1])}},Hr=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(i){r[i]=e[i]&&function(c){return new Promise(function(l,s){c=e[i](c),n(l,s,c.done,c.value)})}}function n(i,c,l,s){Promise.resolve(s).then(function(f){i({value:f,done:l})},c)}};function Vr(e){return Gr(this,arguments,function*(){for(let r=0;r<Pe.length;r++){const a=Pe[r]+"-read-mesh",n=yield j(P(a,e.config.meshIOUrl));yield yield j(n)}})}async function St(e,t){var r,a;if(e.mimeType&&Ot.has(e.mimeType)){const l=Ot.get(e.mimeType)+t;return await P(l,e.config.meshIOUrl)}const n=yt(e.fileName);if(wt.has(n)){const l=wt.get(n)+t;return await P(l,e.config.meshIOUrl)}for(let l=0;l<Pe.length;++l){let s=0;try{for(var i=(r=void 0,Hr(Vr(e))),c;c=await i.next(),!c.done;){const f=c.value;try{const{returnValue:o,outputs:d}=await Te(f,e.args,e.outputs,e.inputs);if(o===0)return f}catch{}s++}}catch(f){r={error:f}}finally{try{c&&!c.done&&(a=i.return)&&await a.call(i)}finally{if(r)throw r.error}}}throw Error(`Could not find IO for: ${e.fileName}`)}const Wr=typeof globalThis.SharedArrayBuffer=="function";function A(e){let t=null;return e.buffer!==void 0?t=e.buffer:e.byteLength!==void 0&&(t=e),t&&Wr&&t instanceof SharedArrayBuffer?null:t}function Kr(e){const t=[];return e.points!=null&&t.push(e.points.buffer),e.pointData!=null&&t.push(e.pointData.buffer),e.cells!=null&&t.push(e.cells.buffer),e.cellData!=null&&t.push(e.cellData.buffer),t}function Xr(e){const t=[];return e.points!=null&&t.push(e.points.buffer),e.vertices!=null&&t.push(e.vertices.buffer),e.lines!=null&&t.push(e.lines.buffer),e.polygons!=null&&t.push(e.polygons.buffer),e.triangleStrips!=null&&t.push(e.triangleStrips.buffer),e.pointData!=null&&t.push(e.pointData.buffer),e.cellData!=null&&t.push(e.cellData.buffer),t}async function Yr(e,t,r,a){const n=Te(e,t,r,a),i=[];return n.outputs&&n.outputs.forEach(function(c){if(c.type===I.BinaryStream||c.type===I.BinaryFile){const l=c.data,s=A(l);s&&i.push(s)}else if(c.type===I.Image){const l=c.data;let s=A(l.data);s&&i.push(s),s=A(l.direction),s&&i.push(s)}else if(c.type===I.Mesh){const l=c.data,s=Kr(l);i.push(...s)}else if(c.type===I.PolyData){const l=c.data,s=Xr(l);i.push(...s)}else if(c.type===E.Binary){const l=c.data,s=A(l);s&&i.push(s)}else if(c.type===E.Image){const l=c.data;let s=A(l.data);s&&i.push(s),s=A(l.direction),s&&i.push(s)}else if(c.type===E.Mesh){const l=c.data;if(l.points){const s=A(l.points);s&&i.push(s)}if(l.pointData){const s=A(l.pointData);s&&i.push(s)}if(l.cells){const s=A(l.cells);s&&i.push(s)}if(l.cellData){const s=A(l.cellData);s&&i.push(s)}}}),new xe.TransferableResponse(n,i)}xe(async function(e){let t=null;if(e.operation==="runPipeline"){const r=typeof e.config[e.pipelineBaseUrl]>"u"?e.pipelineBaseUrl:e.config[e.pipelineBaseUrl];t=await P(e.pipelinePath,r)}else if(e.operation==="readImage")t=await vt(e,"-read-image");else if(e.operation==="writeImage")t=await vt(e,"-write-image");else if(e.operation==="readMesh")t=await St(e,"-read-mesh");else if(e.operation==="writeMesh")t=await St(e,"-write-mesh");else if(e.operation==="meshToPolyData")t=await P("mesh-to-polydata",e.config.meshIOUrl);else if(e.operation==="polyDataToMesh")t=await P("polydata-to-mesh",e.config.meshIOUrl);else if(e.operation==="readDICOMImageSeries")t=await P("read-image-dicom-file-series",e.config.imageIOUrl);else if(e.operation==="readDICOMTags")t=await P("read-dicom-tags",e.config.imageIOUrl);else throw new Error("Unknown worker operation");return Yr(t,e.args,e.outputs,e.inputs)})})();
//# sourceMappingURL=pipeline.worker-9f119a72.js.map
